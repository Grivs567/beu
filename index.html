<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Small Question ğŸ’–</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  font-family: "Comic Sans MS", cursive;
  background: linear-gradient(270deg, #ffe6f0, #ffd1e8, #ffe6f0);
  background-size: 600% 600%;
  animation: bgMove 14s ease infinite;
  color: #b30059;
}

@keyframes bgMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.page {
  position: absolute;
  inset: 0;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.page.active { display: flex; }

h1, h2 { margin-bottom: 30px; }

button {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 20px;
  margin: 15px;
}

#yes {
  background: #ff4d88;
  color: white;
  font-size: 24px;
  box-shadow: 0 0 30px rgba(255,77,136,0.7);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#no {
  background: #555;
  color: white;
  position: fixed;
  transition: left 0.35s ease-out, top 0.35s ease-out;
}

.link {
  margin-top: 30px;
  font-size: 18px;
  color: #cc005f;
  cursor: pointer;
  text-decoration: underline;
}

/* Particles */
.particle {
  position: fixed;
  pointer-events: none;
  animation: floatUp 2s ease-out forwards;
  font-size: 22px;
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(0.6); opacity: 1; }
  100% { transform: translateY(-140px) scale(1.4); opacity: 0; }
}
</style>
</head>

<body>

<!-- ğŸµ Music (starts after interaction) -->
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_1b0c7d3f2b.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <h1>Heyâ€¦ I have a small question ğŸ¥ºğŸ’˜</h1>
  <button onclick="goTo('page2'); startMusic()">Okay ğŸ˜Š</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <h2>Be honestâ€¦ and think carefully ğŸ˜Œ</h2>
  <button onclick="goTo('page3')">Iâ€™m ready ğŸ’—</button>
</div>

<!-- PAGE 3 : YES / NO GAME -->
<div class="page" id="page3">
  <h1>Will you be my Valentine? ğŸ’–</h1>
  <button id="yes">Yes ğŸ’˜</button>
  <button id="no">No ğŸ˜’</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
  <h1>YAY!!! â¤ï¸ğŸ˜</h1>
  <h2>Youâ€™re officially stuck with me now ğŸ˜Œ</h2>
  <div class="link" onclick="goTo('page5')">One last thingâ€¦ ğŸ‘€</div>
</div>

<!-- PAGE 5 -->
<div class="page" id="page5">
  <h1>Screenshot this ğŸ’</h1>
  <h2>Because proof matters ğŸ˜ŒğŸ’–</h2>
  <div class="link" onclick="spawnParticles('ğŸ’–',40)">Celebrate again ğŸ‰</div>
</div>

<script>
const music = document.getElementById("music");
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");

let musicStarted = false;

function startMusic() {
  if (!musicStarted) {
    music.play().catch(()=>{});
    musicStarted = true;
  }
}

function goTo(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* NO button logic */
function moveNo() {
  const yesRect = yesBtn.getBoundingClientRect();
  const cx = yesRect.left + yesRect.width / 2;
  const cy = yesRect.top + yesRect.height / 2;

  const minR = 130;
  const maxR = 240;
  const angle = Math.random() * Math.PI * 2;
  const radius = minR + Math.random() * (maxR - minR);

  let x = cx + radius * Math.cos(angle) - noBtn.offsetWidth / 2;
  let y = cy + radius * Math.sin(angle) - noBtn.offsetHeight / 2;

  const minY = window.innerHeight / 2;
  const maxY = window.innerHeight - noBtn.offsetHeight - 20;

  y = Math.max(minY, Math.min(y, maxY));
  x = Math.max(20, Math.min(x, window.innerWidth - noBtn.offsetWidth - 20));

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}

noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* YES effects */
document.addEventListener("mousemove", e => {
  if (!yesBtn) return;
  const r = yesBtn.getBoundingClientRect();
  const d = Math.hypot(
    e.clientX - (r.left + r.width/2),
    e.clientY - (r.top + r.height/2)
  );
  yesBtn.style.transform = d < 160 ? "scale(1.15)" : "scale(1)";
});

yesBtn.addEventListener("mouseenter", ()=>spawnParticles("ğŸ’—",6));

yesBtn.addEventListener("click", ()=>{
  spawnParticles("ğŸ’–",30);
  spawnParticles("âœ¨",20);
  goTo("page4");
});

/* Particles */
function spawnParticles(symbol, count) {
  for (let i = 0; i < count; i++) {
    const p = document.createElement("div");
    p.className = "particle";
    p.innerText = symbol;
    p.style.left = Math.random()*window.innerWidth + "px";
    p.style.top = Math.random()*window.innerHeight + "px";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),2000);
  }
}
</script>

</body>
</html>
